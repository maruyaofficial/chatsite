<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>TAMBAYAN CHAT</title>
    <meta name="description" content="Tambayan Chat - Filipino-style anonymous chat hangout." />
    <meta name="author" content="Maruya Official" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Favicon (App Icon) -->
    <link rel="icon" type="image/x-icon" href="favicon.ico" />

    <!-- CSS -->
    <link rel="stylesheet" href="css/normalize.css" />
    <link rel="stylesheet" href="css/skeleton.css" />
    <link rel="stylesheet" href="styles.css" />

    <!-- JavaScript -->
    <script src="/dist/index.js" type="module"></script>

    <!-- Header Navigation Tabs -->
    <nav style="background-color: #111; padding: 12px 20px; color: white; display: flex; justify-content: space-between; align-items: center; position: fixed; top: 0; width: 100%; z-index: 999;">
      <div style="font-weight: bold; font-size: 18px;">Tambayan Chat</div>
      <div style="flex: 1; display: flex; justify-content: center;">
        <a href="https://tambayan-chat.site/EBpx543ofdr_fRWKLJyT7" style="margin: 0 15px; color: #ccc; text-decoration: none;">Home</a>
        <a href="https://github.com/akirachoi01" style="margin: 0 15px; color: #ccc; text-decoration: none;">About</a>
        <a href="https://salidaph.online" style="margin: 0 15px; color: #ccc; text-decoration: none;">SalidaPH</a>
        <a href="https://www.reusora.org/" style="margin: 0 15px; color: #ccc; text-decoration: none;">M3uFiles</a>
      </div>
    </nav>
    <div style="height: 60px;"></div>
  </head>

  <body>
    <div id="music-player" style="background: #222; color: #fff; padding: 15px; border-radius: 10px; box-shadow: 0 4px 10px rgba(0,0,0,0.3); max-width: 500px;">
  <h5>üé∂ Tambayan Playlist</h5>
  <div id="now-playing" style="margin-bottom: 10px;">Now Playing: None</div>
  
  <audio id="audio-player" controls style="width: 100%; border-radius: 8px;"></audio>
  
  <div style="margin-top: 10px; display: flex; justify-content: space-between;">
    <button onclick="prevTrack()" style="padding: 8px 12px; background: #444; color: white; border: none; border-radius: 5px;">‚èÆ Prev</button>
    <button onclick="nextTrack()" style="padding: 8px 12px; background: #444; color: white; border: none; border-radius: 5px;">Next ‚è≠</button>
  </div>

  <ul id="playlist" style="list-style: none; padding: 0; margin-top: 15px;">
    <!-- Playlist will auto-populate here -->
  </ul>
</div>

<script>
  const playlist = [
    { title: "Track 1 - Chill Vibes", src: "music/track1.mp3" },
    { title: "Track 2 - Coffee Break", src: "music/track2.mp3" },
    { title: "Track 3 - Sunset Jam", src: "music/track3.mp3" }
  ];

  let currentTrack = 0;
  const audioPlayer = document.getElementById('audio-player');
  const nowPlaying = document.getElementById('now-playing');
  const playlistUI = document.getElementById('playlist');

  function loadTrack(index, play = true) {
    currentTrack = index;
    audioPlayer.src = playlist[index].src;
    nowPlaying.innerText = "Now Playing: " + playlist[index].title;
    highlightCurrentTrack();
    if (play) audioPlayer.play();
  }

  function nextTrack() {
    currentTrack = (currentTrack + 1) % playlist.length;
    loadTrack(currentTrack);
  }

  function prevTrack() {
    currentTrack = (currentTrack - 1 + playlist.length) % playlist.length;
    loadTrack(currentTrack);
  }

  function highlightCurrentTrack() {
    const items = playlistUI.querySelectorAll('li');
    items.forEach((item, idx) => {
      if (idx === currentTrack) {
        item.style.background = '#444';
        item.style.color = '#00aaff';
      } else {
        item.style.background = 'transparent';
        item.style.color = '#ccc';
      }
    });
  }

  // Build Playlist UI
  playlist.forEach((track, index) => {
    const li = document.createElement('li');
    li.innerText = track.title;
    li.style.padding = '8px 10px';
    li.style.cursor = 'pointer';
    li.onclick = () => loadTrack(index);
    li.onmouseover = () => li.style.background = '#333';
    li.onmouseout = () => {
      if (index !== currentTrack) li.style.background = 'transparent';
    };
    playlistUI.appendChild(li);
  });

  audioPlayer.addEventListener('ended', nextTrack);

  // Auto load first track
  loadTrack(currentTrack, false);
</script>

    <div class="container" style="width: 95%; height: 100%;">
      <div class="row" style="height: 100%;">
        <div class="one-third column" style="margin-top: 25%;">
          <h4><b>Tambayan Chat</b>, made by <b>Maruya Official</b></h4>
          <p>
            Tambayan Chat is your digital tambayan. You can Post/chat anonymously ‚Äî a cozy,
            Filipino-style hangout where you can chat, connect,
            and make new friends anytime, anywhere.<br>
            Whether you're here for lighthearted conversations,
            serious discussions, or just to pass the time,
            Tambayan Chat offers a warm, welcoming space with a true Pinoy vibe.<br>
            Join the conversation today!
          </p>
        </div>
        <div class="two-thirds column" id="root"></div>
      </div>
    </div>

    <footer style="background-color: #111; color: #ccc; text-align: center; padding: 20px; font-size: 14px; margin-top: 40px;">
      <div class="container">
        <p><b>Tambayan Chat</b> ¬© 2025 - Built with ‚ù§Ô∏è by <a href="https://github.com/akirachoi01" style="color: #00aaff; text-decoration: none;">Maruya Official</a></p>
        <p>Made for Filipinos, by Filipinos. Connect. Chill. Chat.</p>
        <a href="privacy.html">Privacy Policy</a>
      </div>
    </footer>

    <div id="musicPlayerDrawerBtn" title="Open Music Player">üéß</div>

    <div id="musicPlayerDrawer">
      <div id="musicPlayerHeader">
        <span>üéµ Now Playing</span>
        <button onclick="closeMusicPlayerDrawer()">‚úñ</button>
      </div>
      <iframe 
        src="https://player.tambayan-chat.site/" 
        frameborder="0"
        allow="autoplay; encrypted-media; fullscreen; accelerometer; gyroscope; clipboard-write; web-share"
        allowfullscreen>
      </iframe>
    </div>

    <style>
      #musicPlayerDrawerBtn {
        position: fixed;
        bottom: 90px;
        right: 25px;
        background-color: #00aaff;
        color: white;
        font-size: 26px;
        padding: 14px;
        border-radius: 50%;
        box-shadow: 0 4px 10px rgba(0,0,0,0.3);
        cursor: pointer;
        z-index: 9998;
        transition: background-color 0.3s, transform 0.2s;
      }
      #musicPlayerDrawerBtn:hover {
        background-color: #0077cc;
        transform: scale(1.1);
      }
      #musicPlayerDrawer {
        position: fixed;
        right: -100%;
        top: 0;
        width: 400px;
        max-width: 100%;
        height: 100%;
        background: #111;
        color: white;
        box-shadow: -4px 0 12px rgba(0,0,0,0.5);
        z-index: 9999;
        display: flex;
        flex-direction: column;
        transition: right 0.3s ease-in-out;
      }
      #musicPlayerDrawer.open {
        right: 0;
      }
      #musicPlayerDrawer iframe {
        flex: 1;
        width: 100%;
        border: none;
      }
      #musicPlayerHeader {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 12px 16px;
        background-color: #222;
        font-size: 18px;
        border-bottom: 1px solid #333;
      }
      #musicPlayerHeader button {
        background: transparent;
        border: none;
        color: white;
        font-size: 20px;
        cursor: pointer;
      }
      @media (max-width: 500px) {
        #musicPlayerDrawer {
          width: 100%;
        }
      }
    </style>

    <script>
      const musicPlayerDrawer = document.getElementById('musicPlayerDrawer');
      document.getElementById('musicPlayerDrawerBtn').onclick = function () {
        musicPlayerDrawer.classList.add('open');
      };
      function closeMusicPlayerDrawer() {
        musicPlayerDrawer.classList.remove('open');
      }
    </script>
  </body>
</html>
